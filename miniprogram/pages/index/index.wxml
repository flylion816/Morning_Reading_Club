<!--é¦–é¡µ - è¯¾ç¨‹åˆ—è¡¨-->
<view class="page-index">
  <!-- é¡¶éƒ¨Banner -->
  <view class="home-banner">
    <view class="banner-text">â˜€ï¸ {{bannerText}}\nğŸŒ„ {{subBannerText}}</view>
  </view>

  <!-- ç­›é€‰æŒ‰é’® -->
  <view class="filter-tabs">
    <view
      class="filter-btn {{filterType === 'pending' ? 'active' : ''}}"
      bindtap="switchFilter"
      data-type="pending">
      å¾…æ‰“å¡
    </view>
    <view
      class="filter-btn {{filterType === 'all' ? 'active' : ''}}"
      bindtap="switchFilter"
      data-type="all">
      å…¨éƒ¨
    </view>
  </view>

  <!-- è¯¾ç¨‹åˆ—è¡¨ -->
  <view class="courses-container">
    <course-card
      wx:for="{{displayedCourses}}"
      wx:key="id"
      course="{{item}}"
      bind:tap="handleCourseClick"
      bind:action="handleCourseAction"
    />

    <!-- åŠ è½½ä¸­ -->
    <view wx:if="{{loading && displayedCourses.length === 0}}" class="loading-container">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:if="{{!loading && displayedCourses.length === 0}}" class="empty-state">
      <text class="empty-state-icon">ğŸ“š</text>
      <text class="empty-state-text">æš‚æ— {{filterType === 'pending' ? 'å¾…æ‰“å¡' : ''}}è¯¾ç¨‹</text>
    </view>
  </view>
</view>
