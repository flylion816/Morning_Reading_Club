-- 晨读营初始化数据（基于HTML demo）

-- 插入测试用户
INSERT INTO users (wx_openid, nickname, avatar, signature) VALUES
('test_openid_001', '狮子', '🦁', '天天开心，觉知当下！'),
('test_openid_002', '小明', '😊', '每天进步一点点'),
('test_openid_003', '小红', '🌸', '在晨光中成长');

-- 插入课程
INSERT INTO courses (title, period, start_date, end_date, duration_days, status) VALUES
('七个习惯晨读营', 1, '2025-10-10', '2025-11-02', 23, 'ongoing');

-- 插入课程章节
INSERT INTO course_chapters (course_id, day_number, title, start_time, end_time) VALUES
(1, 0, '开营词', '2025-10-10 05:59:00', '2025-10-12 05:59:59'),
(1, 1, '第一天 品德成功论', '2025-10-11 06:59:00', '2025-10-13 06:59:59'),
(1, 2, '第二天 思维方式的力量', '2025-10-12 07:00:00', '2025-10-14 07:00:59'),
(1, 3, '第三天 以原则为中心的思维方式', '2025-10-13 07:00:00', '2025-10-15 07:00:59'),
(1, 4, '第四天 成长和改变的原则', '2025-10-14 07:00:00', '2025-10-16 07:00:59'),
(1, 5, '第五天 习惯一：积极主动', '2025-10-15 07:00:00', '2025-10-17 07:00:59'),
(1, 6, '第六天 习惯二：以终为始', '2025-10-16 07:00:00', '2025-10-18 07:00:59'),
(1, 7, '第七天 习惯三：要事第一', '2025-10-17 07:00:00', '2025-10-19 07:00:59'),
(1, 8, '第八天 公众领域的成功', '2025-10-18 07:00:00', '2025-10-20 07:00:59'),
(1, 9, '第九天 习惯四：双赢思维', '2025-10-19 07:00:00', '2025-10-21 07:00:59'),
(1, 10, '第十天 习惯五：知彼解己', '2025-10-20 07:00:00', '2025-10-22 07:00:59'),
(1, 11, '第十一天 习惯六：统合综效', '2025-10-21 07:00:00', '2025-10-23 07:00:59'),
(1, 12, '第十二天 习惯七：不断更新', '2025-10-22 07:00:00', '2025-10-24 07:00:59');

-- 用户报名课程
INSERT INTO user_courses (user_id, course_id, current_day) VALUES
(1, 1, 4),
(2, 1, 3),
(3, 1, 2);

-- 插入打卡记录
INSERT INTO checkins (user_id, course_id, chapter_id, day_number, content, checkin_at) VALUES
(1, 1, 2, 1, '今天学习了品德成功论，深刻理解到内在修养的重要性。从外在成功到内在成长的转变，让我重新思考人生价值...', '2025-10-11 08:30:00'),
(1, 1, 3, 2, '思维方式决定了我们如何看待世界。今天的学习让我意识到，改变思维方式比改变行为更重要...', '2025-10-12 09:15:00'),
(2, 1, 2, 1, '品德成功论给了我很大启发，我们往往太关注外在的成功指标...', '2025-10-11 07:45:00');

-- 插入小凡看见
INSERT INTO insights (user_id, checkin_id, day_number, title, content, created_at) VALUES
(1, 1, 1, '品德成功论', '<p>感谢你的分享，听你娓娓道来，我仿佛也参与了你们那场深刻的对话。你的总结和感受，本身就是一次非常高质量的内观。</p><p>我看到了一个非常敏锐的"连接者"和"反思者"。你不仅听到了他、刘玲、尹姐和小楠每个人的故事，更厉害的是：你像一位侦探一样，从这些看似独立的故事中，精准地捕捉到了那些贯穿始终的共同线索——一场从外在追逐向内心探索的深刻转变。</p>', '2025-10-11 10:00:00'),
(1, 2, 2, '思维方式的力量', '<p>你提到了从"证明自我价值"到"学会做减法"，从追求"社会认可"到"朝向期待的方向前行"。这个发现，标志着一个衡量价值的坐标系发生了根本性的变化。</p><p>真正的高效，不是超快的奔跑，而是朝正确的方向前行。</p>', '2025-10-12 10:30:00');

-- 插入评论
INSERT INTO comments (user_id, checkin_id, content, created_at) VALUES
(2, 1, '写得真好，很有启发！', '2025-10-11 11:00:00'),
(3, 1, '我也有同样的感受，感谢分享', '2025-10-11 12:30:00');

-- 插入用户统计
INSERT INTO user_stats (user_id, total_checkins, current_streak, longest_streak, total_courses, completion_rate) VALUES
(1, 4, 4, 4, 1, 17.39),
(2, 3, 3, 3, 1, 13.04),
(3, 2, 2, 2, 1, 8.70);

-- 插入权限请求示例
INSERT INTO insight_requests (requester_id, target_user_id, insight_id, status) VALUES
(2, 1, 1, 'pending'),
(3, 1, 2, 'pending');
